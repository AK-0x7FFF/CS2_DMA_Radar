<!DOCTYPE html>
<html lang="zh_cn">
<head>
    <meta charset="UTF-8">
    <title>重生！我用𝗗𝗠𝗔拷打魔王𝕊！</title>
    <link rel="icon" href="static/img/icon.png">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.2/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="static/css/styles.css">
    <link rel="stylesheet" href="static/css/misc.css">
    <link rel="stylesheet" href="static/css/radar.css">
    <link rel="stylesheet" href="static/css/sidebar.css">

    <!--  你麻麻的，这前端谁爱写谁写 -AK32767  -->
</head>
<body>
    <div id="mainContent" style="position: absolute; left: 0px; top: 0px;">
        <div id="radar">
            <div id="bombDot" style="display: none;"></div>
            <div id="playerDot"></div>
            <div id="map"></div>
        </div>

        <div class="window" style="display: none;">
            <div style="display: flex;">
                <h4 style="color: rgb(0, 0, 0); font-family: 'HYWenHei-85W';">玩家点大小</h4>
                <input type="range" min="24" max="128" value="40" id="dotSizeSetter">
                <button style="color: rgb(0, 0, 0); font-family: 'HYWenHei-85W';" onclick="{radar.playerDot.dotSize = 40; dotSizeSetter.value = 40;}">重设</button>
                <script>
                    dotSizeSetter.onchange = (_) => {
                        radar.playerDot.dotSize = dotSizeSetter.value;
                    }
                </script>
            </div>

            <div style="display: flex;">
                <h4 style="color: rgb(0, 0, 0); font-family: 'HYWenHei-85W';">地图缩放</h4>
                <input type="range" min="0.5" max="3" step="0.1" value="1" id="MapSizeSetter">
                <button style="color: rgb(0, 0, 0); font-family: 'HYWenHei-85W';" onclick="{radar.state.scale = 1; MapSizeSetter.value = 1;}">重设</button>
                <script>
                    MapSizeSetter.onchange = (_) => {
                        radar.state.scale = MapSizeSetter.value;
                    }
                </script>
            </div>

            <div style="display: flex;">
                <h4 style="color: rgb(0, 0, 0); font-family: 'HYWenHei-85W';">玩家绑定</h4>
    <!--            <input type="checkbox">-->
                <button onclick="{setBindPlayer()}">设置</button>
            </div>
        </div>

        <div id="debugWindow" class="window" style="top: 50%;" >
            <h3></h3>
            <h3></h3>
            <h3></h3>
        </div>

    </div>

    <button id="sidebarToggle" onclick="{sidebarToggle(); }">asd</button>
    <div id="sidebar">
        <div class="row">
            <h4>已绑定：</h4>
            <button>玩家绑定</button>
        </div>

        <div class="row">
            <h4>玩家点大小</h4>
            <input id="playerDotInput" type="range" min="24" max="128" step="1" value="40">
            <script>
                $("#playerDotInput").change((event) => {
                    radar.playerDot.dotSize = parseFloat(event.target.value)
                });
            </script>
        </div>
        <div class="row">
            <h4>地图缩放</h4>
            <input id="mapScaleInput" type="range" min="0.5" max="3" step="0.05" value="1">
            <script>
                $("#mapScaleInput").change((event) => {
                    radar.state.scale = parseFloat(event.target.value)
                });
            </script>
        </div>
        <div class="row">
            <h4>地图旋转</h4>
            <input id="mapRotationInput" type="range" min="0" max="360" step="45" value="0">
            <script>
                $("#mapRotationInput").change((event) => {
                    radar.state.rotation = parseFloat(event.target.value)
                });
            </script>
        </div>

    </div>

    <script>
        const debug = 0;
        const tick = 64;
    </script>
    <script src="static/js/utils.js"></script>
    <script src="static/js/radar.js"></script>
    <script src="static/js/socketEvent.js"></script>
<!--    <script src="static/js/dialog.js"></script>-->
    <script src="static/js/sidebar.js"></script>
</body>
</html>